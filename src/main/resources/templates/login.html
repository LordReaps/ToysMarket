<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security" lang="RU">
<head>
    <meta charset="utf-8"/>
    <title>Вход в систему</title>
</head>
<body>

<!-- Если пользователь авторизован — перенаправляем его на главную -->
<div th:if="${#authentication.authenticated}">
    <script type="text/javascript">
        const targetUrl = '[[${targetUrl}]]'
        console.log("Перенаправление на:", '[[${targetUrl}]]');
    </script>
</div>

<div>
    <form method="POST" action="/login">
        <h2>Вход в систему</h2>
        <div>
            <input name="username" type="text" placeholder="Username" autofocus="true"/>
            <input name="password" type="password" placeholder="Password"/>
            <button type="submit">Войти</button>
            <h4><a href="/registration">Зарегистрироваться</a></h4>
        </div>
    </form>
</div>

</body>
</html>
